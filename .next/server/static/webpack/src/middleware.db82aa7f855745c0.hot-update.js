"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n// import { createServerClient } from \"@supabase/ssr\";\n// import { createClient } from \"@supabase/supabase-js\";\n// import { type NextRequest, NextResponse } from \"next/server\";\n// export async function middleware(request: NextRequest) {\n// \t// 1. Initialize Response\n// \tlet response = NextResponse.next({\n// \t\trequest: {\n// \t\t\theaders: request.headers,\n// \t\t},\n// \t});\n// \t// 2. Create Supabase Client (Handles Auth Cookies)\n// \tconst supabase = createServerClient(\n// \t\tprocess.env.NEXT_PUBLIC_SUPABASE_URL!,\n// \t\tprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n// \t\t{\n// \t\t\tcookies: {\n// \t\t\t\tgetAll() {\n// \t\t\t\t\treturn request.cookies.getAll();\n// \t\t\t\t},\n// \t\t\t\tsetAll(cookiesToSet) {\n// \t\t\t\t\tcookiesToSet.forEach(({ name, value, options }) =>\n// \t\t\t\t\t\trequest.cookies.set(name, value),\n// \t\t\t\t\t);\n// \t\t\t\t\tresponse = NextResponse.next({\n// \t\t\t\t\t\trequest,\n// \t\t\t\t\t});\n// \t\t\t\t\tcookiesToSet.forEach(({ name, value, options }) =>\n// \t\t\t\t\t\tresponse.cookies.set(name, value, options),\n// \t\t\t\t\t);\n// \t\t\t\t},\n// \t\t\t},\n// \t\t},\n// \t);\n// \t// 3. Refresh Session & Get User\n// \t// This updates the auth cookie if needed\n// \tconst {\n// \t\tdata: { user },\n// \t} = await supabase.auth.getUser();\n// \t// 4. Define Paths\n// \tconst path = request.nextUrl.pathname;\n// \tconst isPublicRoute = path === \"/\" || path.startsWith(\"/sign-in\");\n// \t// Dashboard/Protected Routes\n// \tconst isDashboardRoute =\n// \t\tpath.startsWith(\"/managing-director\") ||\n// \t\tpath.startsWith(\"/secretary\") ||\n// \t\tpath.startsWith(\"/teacher\") ||\n// \t\tpath.startsWith(\"/student\") ||\n// \t\tpath.startsWith(\"/parent\") ||\n// \t\tpath.startsWith(\"/profile\") ||\n// \t\tpath.startsWith(\"/list\") ||\n// \t\tpath.startsWith(\"/finance\") ||\n// \t\tpath.startsWith(\"/settings\");\n// \t// Helper: Redirect with cookies preserved\n// \tconst redirect = (url: URL) => {\n// \t\tconst redirectResponse = NextResponse.redirect(url);\n// \t\tconst cookiesToSet = response.cookies.getAll();\n// \t\tcookiesToSet.forEach((cookie) =>\n// \t\t\tredirectResponse.cookies.set(cookie.name, cookie.value),\n// \t\t);\n// \t\treturn redirectResponse;\n// \t};\n// \t// --- LOGIC BLOCK 1: UNAUTHENTICATED USERS ---\n// \tif (!user) {\n// \t\t// If trying to access a protected route, redirect to sign-in\n// \t\tif (isDashboardRoute) {\n// \t\t\treturn redirect(new URL(\"/sign-in\", request.url));\n// \t\t}\n// \t\t// Allow public routes (Landing page / Sign-in)\n// \t\treturn response;\n// \t}\n// \t// --- LOGIC BLOCK 2: AUTHENTICATED USERS ---\n// \t// Redirect authenticated users away from Public Routes (Login/Home) to Dashboard\n// \tif (isPublicRoute) {\n// \t\ttry {\n// \t\t\t// Create Admin Client for Role Check (Bypasses RLS)\n// \t\t\t// Only created if needed to save resources\n// \t\t\tconst supabaseAdmin = createClient(\n// \t\t\t\tprocess.env.NEXT_PUBLIC_SUPABASE_URL!,\n// \t\t\t\tprocess.env.SUPABASE_SERVICE_ROLE_KEY!,\n// \t\t\t\t{ auth: { persistSession: false } },\n// \t\t\t);\n// \t\t\tconst { data: roleData } = await supabaseAdmin\n// \t\t\t\t.from(\"user_roles\")\n// \t\t\t\t.select(\"roles(name)\")\n// \t\t\t\t.eq(\"user_id\", user.id)\n// \t\t\t\t.single();\n// \t\t\t// @ts-ignore\n// \t\t\tconst roleName = roleData?.roles?.name || roleData?.roles?.[0]?.name;\n// \t\t\tconst userRole = roleName ? roleName.toLowerCase() : \"student\";\n// \t\t\tconst dashboardMap: Record<string, string> = {\n// \t\t\t\tmanaging_director: \"/managing-director\",\n// \t\t\t\tsecretary: \"/secretary\",\n// \t\t\t\tsystem_administrator: \"/system-administrator\",\n// \t\t\t\tteacher: \"/teacher\",\n// \t\t\t\tstudent: \"/student\",\n// \t\t\t\tparent: \"/parent\",\n// \t\t\t};\n// \t\t\tconst targetPath = dashboardMap[userRole] || \"/student\";\n// \t\t\t// Only redirect if not already there\n// \t\t\tif (path !== targetPath) {\n// \t\t\t\treturn redirect(new URL(targetPath, request.url));\n// \t\t\t}\n// \t\t} catch (error) {\n// \t\t\tconsole.error(\"Middleware Role Fetch Error:\", error);\n// \t\t\t// Fallback to student if role fetch fails\n// \t\t\treturn redirect(new URL(\"/student\", request.url));\n// \t\t}\n// \t}\n// \treturn response;\n// }\n// export const config = {\n// \tmatcher: [\n// \t\t/*\n// \t\t * Match all request paths except for:\n// \t\t * - _next/static (static files)\n// \t\t * - _next/image (image optimization files)\n// \t\t * - favicon.ico (favicon file)\n// \t\t * - public folder assets (images, etc)\n// \t\t * - api routes (if any are public)\n// \t\t */\n// \t\t\"/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\n// \t],\n// };\n\n\nasync function middleware(request) {\n    // 1. Create an initial response\n    let supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next({\n        request\n    });\n    const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://svakdlwfoevmbdejhtyg.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN2YWtkbHdmb2V2bWJkZWpodHlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MDY4NzAsImV4cCI6MjA4MDA4Mjg3MH0.Dbgt7kSPzK1ZieC5U4I_atBDwWtRPDVNSXu5ZpfXg38\", {\n        cookies: {\n            getAll () {\n                return request.cookies.getAll();\n            },\n            setAll (cookiesToSet) {\n                // Fix: Update both the Request (for the app) and Response (for the browser)\n                cookiesToSet.forEach(({ name, value, options })=>request.cookies.set(name, value));\n                supabaseResponse = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next({\n                    request\n                });\n                cookiesToSet.forEach(({ name, value, options })=>supabaseResponse.cookies.set(name, value, options));\n            }\n        }\n    });\n    // 2. Refresh Session\n    // This will trigger 'setAll' if the token needs refreshing\n    const { data: { user } } = await supabase.auth.getUser();\n    return supabaseResponse;\n}\nconst config = {\n    matcher: [\n        \"/((?!_next/static|_next/image|favicon.ico|public|api).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM5QjtZQUNBQyxRQUFPQyxZQUFZO2dCQUNsQiw0RUFBNEU7Z0JBQzVFQSxhQUFhQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFLEdBQzdDZixRQUFRUSxPQUFPLENBQUNRLEdBQUcsQ0FBQ0gsTUFBTUM7Z0JBRzNCYixtQkFBbUJKLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7b0JBQ3BDRjtnQkFDRDtnQkFFQVcsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxHQUM3Q2QsaUJBQWlCTyxPQUFPLENBQUNRLEdBQUcsQ0FBQ0gsTUFBTUMsT0FBT0M7WUFFNUM7UUFDRDtJQUNEO0lBR0QscUJBQXFCO0lBQ3JCLDJEQUEyRDtJQUMzRCxNQUFNLEVBQ0xFLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQ2QsR0FBRyxNQUFNZixTQUFTZ0IsSUFBSSxDQUFDQyxPQUFPO0lBRS9CLE9BQU9uQjtBQUNSO0FBRU8sTUFBTW9CLFNBQVM7SUFDckJDLFNBQVM7UUFBQztLQUEyRDtBQUN0RSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9taWRkbGV3YXJlLnRzP2QxOTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zc3JcIjtcclxuLy8gaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xyXG4vLyBpbXBvcnQgeyB0eXBlIE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbi8vIFx0Ly8gMS4gSW5pdGlhbGl6ZSBSZXNwb25zZVxyXG4vLyBcdGxldCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5uZXh0KHtcclxuLy8gXHRcdHJlcXVlc3Q6IHtcclxuLy8gXHRcdFx0aGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxyXG4vLyBcdFx0fSxcclxuLy8gXHR9KTtcclxuXHJcbi8vIFx0Ly8gMi4gQ3JlYXRlIFN1cGFiYXNlIENsaWVudCAoSGFuZGxlcyBBdXRoIENvb2tpZXMpXHJcbi8vIFx0Y29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbi8vIFx0XHRwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4vLyBcdFx0cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4vLyBcdFx0e1xyXG4vLyBcdFx0XHRjb29raWVzOiB7XHJcbi8vIFx0XHRcdFx0Z2V0QWxsKCkge1xyXG4vLyBcdFx0XHRcdFx0cmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXRBbGwoKTtcclxuLy8gXHRcdFx0XHR9LFxyXG4vLyBcdFx0XHRcdHNldEFsbChjb29raWVzVG9TZXQpIHtcclxuLy8gXHRcdFx0XHRcdGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0pID0+XHJcbi8vIFx0XHRcdFx0XHRcdHJlcXVlc3QuY29va2llcy5zZXQobmFtZSwgdmFsdWUpLFxyXG4vLyBcdFx0XHRcdFx0KTtcclxuLy8gXHRcdFx0XHRcdHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoe1xyXG4vLyBcdFx0XHRcdFx0XHRyZXF1ZXN0LFxyXG4vLyBcdFx0XHRcdFx0fSk7XHJcbi8vIFx0XHRcdFx0XHRjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PlxyXG4vLyBcdFx0XHRcdFx0XHRyZXNwb25zZS5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyksXHJcbi8vIFx0XHRcdFx0XHQpO1xyXG4vLyBcdFx0XHRcdH0sXHJcbi8vIFx0XHRcdH0sXHJcbi8vIFx0XHR9LFxyXG4vLyBcdCk7XHJcblxyXG4vLyBcdC8vIDMuIFJlZnJlc2ggU2Vzc2lvbiAmIEdldCBVc2VyXHJcbi8vIFx0Ly8gVGhpcyB1cGRhdGVzIHRoZSBhdXRoIGNvb2tpZSBpZiBuZWVkZWRcclxuLy8gXHRjb25zdCB7XHJcbi8vIFx0XHRkYXRhOiB7IHVzZXIgfSxcclxuLy8gXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcblxyXG4vLyBcdC8vIDQuIERlZmluZSBQYXRoc1xyXG4vLyBcdGNvbnN0IHBhdGggPSByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWU7XHJcbi8vIFx0Y29uc3QgaXNQdWJsaWNSb3V0ZSA9IHBhdGggPT09IFwiL1wiIHx8IHBhdGguc3RhcnRzV2l0aChcIi9zaWduLWluXCIpO1xyXG5cclxuLy8gXHQvLyBEYXNoYm9hcmQvUHJvdGVjdGVkIFJvdXRlc1xyXG4vLyBcdGNvbnN0IGlzRGFzaGJvYXJkUm91dGUgPVxyXG4vLyBcdFx0cGF0aC5zdGFydHNXaXRoKFwiL21hbmFnaW5nLWRpcmVjdG9yXCIpIHx8XHJcbi8vIFx0XHRwYXRoLnN0YXJ0c1dpdGgoXCIvc2VjcmV0YXJ5XCIpIHx8XHJcbi8vIFx0XHRwYXRoLnN0YXJ0c1dpdGgoXCIvdGVhY2hlclwiKSB8fFxyXG4vLyBcdFx0cGF0aC5zdGFydHNXaXRoKFwiL3N0dWRlbnRcIikgfHxcclxuLy8gXHRcdHBhdGguc3RhcnRzV2l0aChcIi9wYXJlbnRcIikgfHxcclxuLy8gXHRcdHBhdGguc3RhcnRzV2l0aChcIi9wcm9maWxlXCIpIHx8XHJcbi8vIFx0XHRwYXRoLnN0YXJ0c1dpdGgoXCIvbGlzdFwiKSB8fFxyXG4vLyBcdFx0cGF0aC5zdGFydHNXaXRoKFwiL2ZpbmFuY2VcIikgfHxcclxuLy8gXHRcdHBhdGguc3RhcnRzV2l0aChcIi9zZXR0aW5nc1wiKTtcclxuXHJcbi8vIFx0Ly8gSGVscGVyOiBSZWRpcmVjdCB3aXRoIGNvb2tpZXMgcHJlc2VydmVkXHJcbi8vIFx0Y29uc3QgcmVkaXJlY3QgPSAodXJsOiBVUkwpID0+IHtcclxuLy8gXHRcdGNvbnN0IHJlZGlyZWN0UmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UucmVkaXJlY3QodXJsKTtcclxuLy8gXHRcdGNvbnN0IGNvb2tpZXNUb1NldCA9IHJlc3BvbnNlLmNvb2tpZXMuZ2V0QWxsKCk7XHJcbi8vIFx0XHRjb29raWVzVG9TZXQuZm9yRWFjaCgoY29va2llKSA9PlxyXG4vLyBcdFx0XHRyZWRpcmVjdFJlc3BvbnNlLmNvb2tpZXMuc2V0KGNvb2tpZS5uYW1lLCBjb29raWUudmFsdWUpLFxyXG4vLyBcdFx0KTtcclxuLy8gXHRcdHJldHVybiByZWRpcmVjdFJlc3BvbnNlO1xyXG4vLyBcdH07XHJcblxyXG4vLyBcdC8vIC0tLSBMT0dJQyBCTE9DSyAxOiBVTkFVVEhFTlRJQ0FURUQgVVNFUlMgLS0tXHJcblxyXG4vLyBcdGlmICghdXNlcikge1xyXG4vLyBcdFx0Ly8gSWYgdHJ5aW5nIHRvIGFjY2VzcyBhIHByb3RlY3RlZCByb3V0ZSwgcmVkaXJlY3QgdG8gc2lnbi1pblxyXG4vLyBcdFx0aWYgKGlzRGFzaGJvYXJkUm91dGUpIHtcclxuLy8gXHRcdFx0cmV0dXJuIHJlZGlyZWN0KG5ldyBVUkwoXCIvc2lnbi1pblwiLCByZXF1ZXN0LnVybCkpO1xyXG4vLyBcdFx0fVxyXG4vLyBcdFx0Ly8gQWxsb3cgcHVibGljIHJvdXRlcyAoTGFuZGluZyBwYWdlIC8gU2lnbi1pbilcclxuLy8gXHRcdHJldHVybiByZXNwb25zZTtcclxuLy8gXHR9XHJcblxyXG4vLyBcdC8vIC0tLSBMT0dJQyBCTE9DSyAyOiBBVVRIRU5USUNBVEVEIFVTRVJTIC0tLVxyXG5cclxuLy8gXHQvLyBSZWRpcmVjdCBhdXRoZW50aWNhdGVkIHVzZXJzIGF3YXkgZnJvbSBQdWJsaWMgUm91dGVzIChMb2dpbi9Ib21lKSB0byBEYXNoYm9hcmRcclxuLy8gXHRpZiAoaXNQdWJsaWNSb3V0ZSkge1xyXG4vLyBcdFx0dHJ5IHtcclxuLy8gXHRcdFx0Ly8gQ3JlYXRlIEFkbWluIENsaWVudCBmb3IgUm9sZSBDaGVjayAoQnlwYXNzZXMgUkxTKVxyXG4vLyBcdFx0XHQvLyBPbmx5IGNyZWF0ZWQgaWYgbmVlZGVkIHRvIHNhdmUgcmVzb3VyY2VzXHJcbi8vIFx0XHRcdGNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXHJcbi8vIFx0XHRcdFx0cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuLy8gXHRcdFx0XHRwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZISxcclxuLy8gXHRcdFx0XHR7IGF1dGg6IHsgcGVyc2lzdFNlc3Npb246IGZhbHNlIH0gfSxcclxuLy8gXHRcdFx0KTtcclxuXHJcbi8vIFx0XHRcdGNvbnN0IHsgZGF0YTogcm9sZURhdGEgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuLy8gXHRcdFx0XHQuZnJvbShcInVzZXJfcm9sZXNcIilcclxuLy8gXHRcdFx0XHQuc2VsZWN0KFwicm9sZXMobmFtZSlcIilcclxuLy8gXHRcdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXHJcbi8vIFx0XHRcdFx0LnNpbmdsZSgpO1xyXG5cclxuLy8gXHRcdFx0Ly8gQHRzLWlnbm9yZVxyXG4vLyBcdFx0XHRjb25zdCByb2xlTmFtZSA9IHJvbGVEYXRhPy5yb2xlcz8ubmFtZSB8fCByb2xlRGF0YT8ucm9sZXM/LlswXT8ubmFtZTtcclxuLy8gXHRcdFx0Y29uc3QgdXNlclJvbGUgPSByb2xlTmFtZSA/IHJvbGVOYW1lLnRvTG93ZXJDYXNlKCkgOiBcInN0dWRlbnRcIjtcclxuXHJcbi8vIFx0XHRcdGNvbnN0IGRhc2hib2FyZE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuLy8gXHRcdFx0XHRtYW5hZ2luZ19kaXJlY3RvcjogXCIvbWFuYWdpbmctZGlyZWN0b3JcIixcclxuLy8gXHRcdFx0XHRzZWNyZXRhcnk6IFwiL3NlY3JldGFyeVwiLFxyXG4vLyBcdFx0XHRcdHN5c3RlbV9hZG1pbmlzdHJhdG9yOiBcIi9zeXN0ZW0tYWRtaW5pc3RyYXRvclwiLFxyXG4vLyBcdFx0XHRcdHRlYWNoZXI6IFwiL3RlYWNoZXJcIixcclxuLy8gXHRcdFx0XHRzdHVkZW50OiBcIi9zdHVkZW50XCIsXHJcbi8vIFx0XHRcdFx0cGFyZW50OiBcIi9wYXJlbnRcIixcclxuLy8gXHRcdFx0fTtcclxuXHJcbi8vIFx0XHRcdGNvbnN0IHRhcmdldFBhdGggPSBkYXNoYm9hcmRNYXBbdXNlclJvbGVdIHx8IFwiL3N0dWRlbnRcIjtcclxuXHJcbi8vIFx0XHRcdC8vIE9ubHkgcmVkaXJlY3QgaWYgbm90IGFscmVhZHkgdGhlcmVcclxuLy8gXHRcdFx0aWYgKHBhdGggIT09IHRhcmdldFBhdGgpIHtcclxuLy8gXHRcdFx0XHRyZXR1cm4gcmVkaXJlY3QobmV3IFVSTCh0YXJnZXRQYXRoLCByZXF1ZXN0LnVybCkpO1xyXG4vLyBcdFx0XHR9XHJcbi8vIFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG4vLyBcdFx0XHRjb25zb2xlLmVycm9yKFwiTWlkZGxld2FyZSBSb2xlIEZldGNoIEVycm9yOlwiLCBlcnJvcik7XHJcbi8vIFx0XHRcdC8vIEZhbGxiYWNrIHRvIHN0dWRlbnQgaWYgcm9sZSBmZXRjaCBmYWlsc1xyXG4vLyBcdFx0XHRyZXR1cm4gcmVkaXJlY3QobmV3IFVSTChcIi9zdHVkZW50XCIsIHJlcXVlc3QudXJsKSk7XHJcbi8vIFx0XHR9XHJcbi8vIFx0fVxyXG5cclxuLy8gXHRyZXR1cm4gcmVzcG9uc2U7XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbi8vIFx0bWF0Y2hlcjogW1xyXG4vLyBcdFx0LypcclxuLy8gXHRcdCAqIE1hdGNoIGFsbCByZXF1ZXN0IHBhdGhzIGV4Y2VwdCBmb3I6XHJcbi8vIFx0XHQgKiAtIF9uZXh0L3N0YXRpYyAoc3RhdGljIGZpbGVzKVxyXG4vLyBcdFx0ICogLSBfbmV4dC9pbWFnZSAoaW1hZ2Ugb3B0aW1pemF0aW9uIGZpbGVzKVxyXG4vLyBcdFx0ICogLSBmYXZpY29uLmljbyAoZmF2aWNvbiBmaWxlKVxyXG4vLyBcdFx0ICogLSBwdWJsaWMgZm9sZGVyIGFzc2V0cyAoaW1hZ2VzLCBldGMpXHJcbi8vIFx0XHQgKiAtIGFwaSByb3V0ZXMgKGlmIGFueSBhcmUgcHVibGljKVxyXG4vLyBcdFx0ICovXHJcbi8vIFx0XHRcIi8oKD8hX25leHQvc3RhdGljfF9uZXh0L2ltYWdlfGZhdmljb24uaWNvfC4qXFxcXC4oPzpzdmd8cG5nfGpwZ3xqcGVnfGdpZnx3ZWJwKSQpLiopXCIsXHJcbi8vIFx0XSxcclxuLy8gfTtcclxuXHJcbmltcG9ydCB7IHR5cGUgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3NzclwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuXHQvLyAxLiBDcmVhdGUgYW4gaW5pdGlhbCByZXNwb25zZVxyXG5cdGxldCBzdXBhYmFzZVJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoe1xyXG5cdFx0cmVxdWVzdCxcclxuXHR9KTtcclxuXHJcblx0Y29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcblx0XHRwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG5cdFx0cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG5cdFx0e1xyXG5cdFx0XHRjb29raWVzOiB7XHJcblx0XHRcdFx0Z2V0QWxsKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXRBbGwoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHNldEFsbChjb29raWVzVG9TZXQpIHtcclxuXHRcdFx0XHRcdC8vIEZpeDogVXBkYXRlIGJvdGggdGhlIFJlcXVlc3QgKGZvciB0aGUgYXBwKSBhbmQgUmVzcG9uc2UgKGZvciB0aGUgYnJvd3NlcilcclxuXHRcdFx0XHRcdGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0pID0+XHJcblx0XHRcdFx0XHRcdHJlcXVlc3QuY29va2llcy5zZXQobmFtZSwgdmFsdWUpLFxyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRzdXBhYmFzZVJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoe1xyXG5cdFx0XHRcdFx0XHRyZXF1ZXN0LFxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Y29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT5cclxuXHRcdFx0XHRcdFx0c3VwYWJhc2VSZXNwb25zZS5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyksXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdCk7XHJcblxyXG5cdC8vIDIuIFJlZnJlc2ggU2Vzc2lvblxyXG5cdC8vIFRoaXMgd2lsbCB0cmlnZ2VyICdzZXRBbGwnIGlmIHRoZSB0b2tlbiBuZWVkcyByZWZyZXNoaW5nXHJcblx0Y29uc3Qge1xyXG5cdFx0ZGF0YTogeyB1c2VyIH0sXHJcblx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuXHRyZXR1cm4gc3VwYWJhc2VSZXNwb25zZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuXHRtYXRjaGVyOiBbXCIvKCg/IV9uZXh0L3N0YXRpY3xfbmV4dC9pbWFnZXxmYXZpY29uLmljb3xwdWJsaWN8YXBpKS4qKVwiXSxcclxufTtcclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZVNlcnZlckNsaWVudCIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0Iiwic3VwYWJhc2VSZXNwb25zZSIsIm5leHQiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvb2tpZXMiLCJnZXRBbGwiLCJzZXRBbGwiLCJjb29raWVzVG9TZXQiLCJmb3JFYWNoIiwibmFtZSIsInZhbHVlIiwib3B0aW9ucyIsInNldCIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});